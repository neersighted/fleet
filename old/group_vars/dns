packages_list:
  libnet-dns-perl: {state: latest}

firewall_rules:
  dns-u:
    port: 53
    proto: udp
    rule: allow
  dns-t:
    port: 53
    proto: tcp
    rule: allow

nameserver_nameservers:
  - ns1.neersighted.com
  - ns2.neersighted.com
  - ns3.neersighted.com
  - ns4.neersighted.com
nameserver_slaves:
  - 69.93.127.10 # linode1
  - 65.19.178.10 # linode2
  - 75.127.96.10 # linode3
  - 207.192.70.10 # linode4
  - 109.74.194.10 # linode5
nameserver_zones:
  neersighted.com:
    ttl: 5m
    email: bjorn.neersighted.com
    primary: ns1.neersighted.com
    serial: 2014071101
    records: |
      ns1 A 173.255.230.140 ; indigo
      ns2 A 74.207.242.71 ; matrix
      ns3 A 69.93.127.10 ; linode1
      ns4 A 109.74.194.10 ; linode5
      ns1 AAAA 2600:3c03::f03c:91ff:fe73:bb00 ; indigo
      ns2 AAAA 2600:3c01::f03c:91ff:fe73:cb9f ; matrix
      ns3 AAAA 2600:3c00::a ; linode1
      ns4 AAAA 2a01:7e00::a ; linode5
      @ A 198.58.114.99 ; taxi
      @ AAAA 2600:3c00::f03c:91ff:fe73:bbd8 ; taxi
      alert A 107.150.9.211
      alert AAAA 2602:ffea:a::536c:b804
      antenna A 81.4.110.116
      antenna AAAA 2a00:d880:3:2::324b:e9a1
      indigo A 173.255.230.140
      indigo AAAA 2600:3c03::f03c:91ff:fe73:bb00
      matrix A 74.207.242.71
      matrix AAAA 2600:3c01::f03c:91ff:fe73:cb9f
      pasta A 209.141.61.108
      pasta AAAA 2605:6400:0020:2cc3::dead:bea7
      scarlet A 71.19.150.113
      scarlet AAAA 2605:2700:0:5::4713:9671
      taxi A 198.58.114.99
      taxi AAAA 2600:3c00::f03c:91ff:fe73:bbd8
      fireball AAAA 2001:470:d:b18::a
      munin CNAME alert
      www CNAME @
      @ MX 10 in1-smtp.messagingengine.com.
      @ MX 20 in2-smtp.messagingengine.com.
      * MX 10 in1-smtp.messagingengine.com.
      * MX 20 in2-smtp.messagingengine.com.
      n._pka TXT "v=pka1;fpr=EF5352EC46885C8D88EA6437F13812806D922AB5;uri=http://neersighted.com/key.asc"
      bjorn._pka TXT "v=pka1;fpr=EF5352EC46885C8D88EA6437F13812806D922AB5;uri=http://neersighted.com/key.asc"
      @ TXT "keybase-site-verification=a_LJ0l7lJXhU-eI0dLcOcBHB-30NjSxeUdjtTdKXuiw"
      @ TXT "v=spf1 include:spf.messagingengine.com ?all"
      mesmtp._domainkey TXT "v=DKIM1;k=rsa;p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCtBpW3K4Y6lynn64yfTZywlfcTWh5NBhse6ltKfCem5D/CmC+nOsGGlj3QuflmaTeQA12FgQdhvEZxA/xXK7r3QGks2Bpm45LhcO0QHVUsrTM9fe9xX6R1JqVec7NVZv6iTiWuZ3q3m6iWo9sU/Ft4018Lz4IoKBy2aeixDVRM/wIDAQAB"
  neergaard.me:
    ttl: 5m
    email: bjorn.neersighted.com
    primary: ns1.neersighted.com
    serial: 2014070912
    records: |
      @ A 198.58.114.99 # taxi
      @ AAAA 2600:3c00::f03c:91ff:fe73:bbd8 # taxi
      www CNAME @
      @ MX 10 in1-smtp.messagingengine.com.
      @ MX 20 in2-smtp.messagingengine.com.
      * MX 10 in1-smtp.messagingengine.com.
      * MX 20 in2-smtp.messagingengine.com.
      bjorn._pka TXT "v=pka1;fpr=EF5352EC46885C8D88EA6437F13812806D922AB5;uri=http://neersighted.com/key.asc"
      @ TXT "keybase-site-verification=WP3LciJa-PJ6VKRqeh7ATXIXmA-FT2NE2BDbrcp2jbg"
      @ TXT "v=spf1 include:spf.messagingengine.com ?all"
      mesmtp._domainkey TXT "v=DKIM1;k=rsa;p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCtBpW3K4Y6lynn64yfTZywlfcTWh5NBhse6ltKfCem5D/CmC+nOsGGlj3QuflmaTeQA12FgQdhvEZxA/xXK7r3QGks2Bpm45LhcO0QHVUsrTM9fe9xX6R1JqVec7NVZv6iTiWuZ3q3m6iWo9sU/Ft4018Lz4IoKBy2aeixDVRM/wIDAQAB"
  singulo.co:
    ttl: 5m
    email: bjorn.neersighted.com
    primary: ns1.neersighted.com
    serial: 2014070912
    records: |
      @ NS ns1.neersighted.com.
      @ NS ns2.neersighted.com.
      @ A 208.146.35.33 # nfo
      play CNAME singulo.game.nfoservers.com
      vox CNAME singulo.murmur.nfoservers.com
      _minecraft._tcp SRV 0 0 25565 play
      @ MX 10 in1-smtp.messagingengine.com.
      @ MX 20 in2-smtp.messagingengine.com.
      * MX 10 in1-smtp.messagingengine.com.
      * MX 20 in2-smtp.messagingengine.com.
      @ TXT "keybase-site-verification=X-EW78_CUYwdkEQdTjKJOmHLQSq44yrH0OcX1DjPZK0"
      @ TXT "v=spf1 include:spf.messagingengine.com ?all"
      mesmtp._domainkey TXT "v=DKIM1;k=rsa;p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCtBpW3K4Y6lynn64yfTZywlfcTWh5NBhse6ltKfCem5D/CmC+nOsGGlj3QuflmaTeQA12FgQdhvEZxA/xXK7r3QGks2Bpm45LhcO0QHVUsrTM9fe9xX6R1JqVec7NVZv6iTiWuZ3q3m6iWo9sU/Ft4018Lz4IoKBy2aeixDVRM/wIDAQAB"
  royalspades.co:
    ttl: 5m
    email: bjorn.neersighted.com
    primary: ns1.neersighted.com
    serial: 2014070912
    records: |
      @ A 107.170.57.65 # morganna
      morganna A 107.170.57.65
      @ MX 10 in1-smtp.messagingengine.com.
      @ MX 20 in2-smtp.messagingengine.com.
      * MX 10 in1-smtp.messagingengine.com.
      * MX 20 in2-smtp.messagingengine.com.
      @ TXT "keybase-site-verification=ytghLyZzV8lSYZpjPCS1v--qEpcjJMqz7HXovrkf2ic"
      @ TXT "v=spf1 include:spf.messagingengine.com ?all"
      mesmtp._domainkey TXT "v=DKIM1;k=rsa;p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCtBpW3K4Y6lynn64yfTZywlfcTWh5NBhse6ltKfCem5D/CmC+nOsGGlj3QuflmaTeQA12FgQdhvEZxA/xXK7r3QGks2Bpm45LhcO0QHVUsrTM9fe9xX6R1JqVec7NVZv6iTiWuZ3q3m6iWo9sU/Ft4018Lz4IoKBy2aeixDVRM/wIDAQAB"
